{{$documents := .documents}}
<div class="layui-row" style="margin: 35px;">
    <form class="layui-form" action="/search">
        <div class="layui-col-md-offset1">
            <div class="layui-col-md8">
                <div class="layui-input-block">
                    <input type="text" name="keyword" value="{{.keyword}}" placeholder="请输入歌曲名称" class="layui-input">
                </div>
            </div>
            <button class="layui-btn">搜索</button>
        </div>
    </form>
</div>

<fieldset class="layui-elem-field layui-field-title" style="margin-top: 25px;">
    <legend>结果</legend>
</fieldset>
<div class="layui-row">
    {{if eq .count 0}}
        <div class="layui-bg-gray">
            <blockquote class="layui-elem-quote layui-quote-nm">
            抱歉，暂时没有搜索到您想要的结果
            </blockquote>
        </div>
    {{else}}
        {{range $document := $documents}}
            <div class="layui-col-md6">
                <a href="/detail?document_id={{$document.document_id}}" target="_blank">
                <div class="layui-card">
                    <div class="layui-card-header">
                        {{$document.name}}
                        <span class="layui-badge layui-bg-gray">
                            {{dateFormat $document.update_time "Y-m-d H:i"}}
                        </span>
                    </div>
                    <div class="layui-card-body search-content">
                        {{$document.search_content}}
                    </div>
                </div>
                </a>
            </div>
        {{end}}
    {{end}}
</div>
<script type="text/javascript" src="/static/plugins/mark/mark.min.js"></script>
<script type="text/javascript">
    var keyword = {{.keyword}}
    if (keyword) {
        var searchContent = document.querySelectorAll('.search-content');
        var instance = new Mark(searchContent);
        instance.mark(keyword);
    }
</script>